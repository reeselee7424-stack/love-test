<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æ‹çˆ±äººæ ¼æµ‹è¯• ğŸ’•</title>
<meta name="description" content="æµ‹æµ‹ä½ çš„æ‹çˆ±äººæ ¼æ˜¯ä»€ä¹ˆï¼Ÿæ¥å‘ç°ä½ åœ¨çˆ±æƒ…ä¸­çš„çœŸå®æ¨¡æ ·">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #FDF8F4;
    --card: #FFFFFF;
    --primary: #E8A0BF;
    --primary-dark: #D4789B;
    --accent: #BA90C6;
    --soft-blue: #C0DBEA;
    --text: #4A3728;
    --text-light: #8B7355;
    --text-muted: #B8A490;
    --border: #F0E6DC;
    --shadow: rgba(178, 128, 100, 0.08);
    --radius: 20px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Noto Sans SC', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* èƒŒæ™¯è£…é¥° */
  body::before {
    content: '';
    position: fixed;
    top: -30%;
    right: -20%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(232,160,191,0.15) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
  }

  body::after {
    content: '';
    position: fixed;
    bottom: -20%;
    left: -15%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(192,219,234,0.15) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 460px;
    margin: 0 auto;
    padding: 24px 20px 40px;
    position: relative;
    z-index: 1;
  }

  /* ===== å¼€å§‹é¡µé¢ ===== */
  .page { display: none; }
  .page.active { display: block; animation: fadeUp 0.5s ease; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .start-page {
    text-align: center;
    padding-top: 60px;
  }

  .start-icon {
    font-size: 64px;
    margin-bottom: 24px;
    display: inline-block;
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .start-title {
    font-family: 'Noto Serif SC', serif;
    font-size: 32px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 12px;
    letter-spacing: 2px;
  }

  .start-subtitle {
    font-size: 15px;
    color: var(--text-light);
    line-height: 1.8;
    margin-bottom: 40px;
    font-weight: 300;
  }

  .start-meta {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 48px;
    font-size: 13px;
    color: var(--text-muted);
  }

  .start-meta span {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .btn-start {
    display: inline-block;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    border: none;
    padding: 16px 64px;
    border-radius: 50px;
    font-size: 17px;
    font-weight: 500;
    cursor: pointer;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    box-shadow: 0 8px 24px rgba(232,160,191,0.3);
    font-family: 'Noto Sans SC', sans-serif;
  }

  .btn-start:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px rgba(232,160,191,0.4);
  }

  .btn-start:active {
    transform: translateY(0);
  }

  /* ===== æµ‹è¯•é¡µé¢ ===== */
  .progress-bar {
    width: 100%;
    height: 4px;
    background: var(--border);
    border-radius: 4px;
    margin-bottom: 32px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    border-radius: 4px;
    transition: width 0.4s ease;
  }

  .question-counter {
    font-size: 13px;
    color: var(--text-muted);
    margin-bottom: 16px;
    font-weight: 300;
  }

  .question-text {
    font-family: 'Noto Serif SC', serif;
    font-size: 22px;
    font-weight: 600;
    line-height: 1.6;
    margin-bottom: 36px;
    color: var(--text);
  }

  .options {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  .option-btn {
    background: var(--card);
    border: 1.5px solid var(--border);
    border-radius: 16px;
    padding: 18px 22px;
    text-align: left;
    font-size: 15px;
    line-height: 1.6;
    cursor: pointer;
    transition: all 0.25s ease;
    font-family: 'Noto Sans SC', sans-serif;
    color: var(--text);
    position: relative;
    overflow: hidden;
  }

  .option-btn::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 3px;
    height: 100%;
    background: var(--primary);
    opacity: 0;
    transition: opacity 0.25s ease;
  }

  .option-btn:hover {
    border-color: var(--primary);
    background: #FFF9FB;
    transform: translateX(4px);
  }

  .option-btn:hover::before {
    opacity: 1;
  }

  .option-btn:active {
    transform: translateX(4px) scale(0.99);
  }

  .option-btn.selected {
    border-color: var(--primary);
    background: linear-gradient(135deg, #FFF5F8, #FDF0F7);
    box-shadow: 0 4px 16px rgba(232,160,191,0.15);
  }

  /* ===== ç»“æœé¡µé¢ ===== */
  .result-page { text-align: center; padding-top: 20px; }

  .result-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 40px 28px;
    box-shadow: 0 8px 40px var(--shadow);
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
  }

  .result-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), var(--accent), var(--soft-blue));
  }

  .result-type-icon {
    font-size: 56px;
    margin-bottom: 16px;
    display: inline-block;
  }

  .result-type-label {
    font-size: 13px;
    color: var(--primary-dark);
    font-weight: 500;
    letter-spacing: 4px;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  .result-type-name {
    font-family: 'Noto Serif SC', serif;
    font-size: 28px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 6px;
  }

  .result-type-en {
    font-size: 13px;
    color: var(--text-muted);
    margin-bottom: 24px;
    font-weight: 300;
    letter-spacing: 1px;
  }

  .result-desc {
    font-size: 15px;
    line-height: 1.9;
    color: var(--text-light);
    text-align: left;
    margin-bottom: 28px;
    font-weight: 300;
  }

  .result-tags {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-bottom: 28px;
  }

  .result-tag {
    background: #FFF5F8;
    color: var(--primary-dark);
    padding: 6px 16px;
    border-radius: 50px;
    font-size: 13px;
    font-weight: 400;
  }

  .result-dimensions {
    text-align: left;
    margin-bottom: 8px;
  }

  .dimension {
    margin-bottom: 16px;
  }

  .dimension-header {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    margin-bottom: 6px;
  }

  .dimension-label { color: var(--text-light); }
  .dimension-value { color: var(--primary-dark); font-weight: 500; }

  .dimension-bar {
    width: 100%;
    height: 6px;
    background: var(--border);
    border-radius: 6px;
    overflow: hidden;
  }

  .dimension-fill {
    height: 100%;
    border-radius: 6px;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    transition: width 1s ease;
  }

  .result-match {
    background: #FAFBFF;
    border-radius: 14px;
    padding: 20px;
    margin-top: 24px;
    text-align: left;
  }

  .result-match h4 {
    font-size: 14px;
    color: var(--text);
    margin-bottom: 8px;
    font-weight: 500;
  }

  .result-match p {
    font-size: 13px;
    color: var(--text-light);
    line-height: 1.7;
    font-weight: 300;
  }

  .btn-group {
    display: flex;
    gap: 12px;
    margin-top: 8px;
  }

  .btn-retry {
    flex: 1;
    padding: 14px;
    border-radius: 50px;
    border: 1.5px solid var(--border);
    background: var(--card);
    color: var(--text-light);
    font-size: 15px;
    cursor: pointer;
    font-family: 'Noto Sans SC', sans-serif;
    transition: all 0.3s;
  }

  .btn-retry:hover {
    border-color: var(--primary);
    color: var(--primary-dark);
  }

  .btn-share {
    flex: 1;
    padding: 14px;
    border-radius: 50px;
    border: none;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    font-size: 15px;
    cursor: pointer;
    font-family: 'Noto Sans SC', sans-serif;
    transition: all 0.3s;
    box-shadow: 0 4px 16px rgba(232,160,191,0.25);
  }

  .btn-share:hover {
    box-shadow: 0 6px 20px rgba(232,160,191,0.35);
  }

  .footer-note {
    text-align: center;
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 24px;
    font-weight: 300;
  }

  /* æˆªå›¾ç”¨çš„éšè—ç»“æœå¡ */
  .screenshot-hint {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 16px;
  }
</style>
</head>
<body>

<div class="container">
  <!-- ===== å¼€å§‹é¡µ ===== -->
  <div id="startPage" class="page start-page active">
    <div class="start-icon">ğŸŒ·</div>
    <h1 class="start-title">æ‹çˆ±äººæ ¼æµ‹è¯•</h1>
    <p class="start-subtitle">
      12é“æƒ…å¢ƒé¢˜ï¼Œå‘ç°ä½ åœ¨çˆ±æƒ…ä¸­çš„çœŸå®æ¨¡æ ·<br>
      æ‰¾åˆ°å±äºä½ çš„æ‹çˆ±äººæ ¼
    </p>
    <div class="start-meta">
      <span>ğŸ“ 12é“é¢˜</span>
      <span>â± çº¦3åˆ†é’Ÿ</span>
      <span>ğŸ’• 6ç§äººæ ¼</span>
    </div>
    <button class="btn-start" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
  </div>

  <!-- ===== æµ‹è¯•é¡µ ===== -->
  <div id="testPage" class="page">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="question-counter" id="questionCounter"></div>
    <div class="question-text" id="questionText"></div>
    <div class="options" id="optionsContainer"></div>
  </div>

  <!-- ===== ç»“æœé¡µ ===== -->
  <div id="resultPage" class="page result-page">
    <div class="result-card" id="resultCard">
      <div class="result-type-icon" id="resultIcon"></div>
      <div class="result-type-label">ä½ çš„æ‹çˆ±äººæ ¼</div>
      <div class="result-type-name" id="resultName"></div>
      <div class="result-type-en" id="resultEn"></div>
      <div class="result-desc" id="resultDesc"></div>
      <div class="result-tags" id="resultTags"></div>
      <div class="result-dimensions" id="resultDimensions"></div>
      <div class="result-match" id="resultMatch">
        <h4 id="matchTitle"></h4>
        <p id="matchDesc"></p>
      </div>
    </div>
    <div class="btn-group">
      <button class="btn-retry" onclick="retry()">é‡æ–°æµ‹è¯•</button>
      <button class="btn-share" onclick="shareResult()">åˆ†äº«ç»“æœ</button>
    </div>
    <p class="footer-note">é•¿æŒ‰æˆªå›¾åˆ†äº«ç»™å¥½å‹ä¸€èµ·æµ‹è¯•å§ ğŸŒ¸</p>
  </div>
</div>

<script>
// ===== é¢˜ç›®æ•°æ® =====
const questions = [
  {
    q: "å‘¨æœ«åˆåï¼Œæ‹äººçªç„¶æ‰“æ¥ç”µè¯è¯´ã€Œç°åœ¨å°±æƒ³è§ä½ ã€ï¼Œä½ çš„ååº”æ˜¯ï¼Ÿ",
    options: [
      { text: "é©¬ä¸Šå‡ºé—¨ï¼èƒ½è§é¢å°±æ˜¯æœ€å¥½çš„äº‹", scores: { passion: 3, security: 0, freedom: 0, devotion: 2 } },
      { text: "å¼€å¿ƒç­”åº”ï¼Œä½†ä¼šå…ˆå®‰æ’å¥½è‡ªå·±çš„äº‹å†å‡ºå‘", scores: { passion: 1, security: 1, freedom: 2, devotion: 1 } },
      { text: "è™½ç„¶æ„å¤–ï¼Œä½†è§‰å¾—è¿™ç§æƒŠå–œå¥½æµªæ¼«", scores: { passion: 2, security: 0, freedom: 1, devotion: 2 } },
      { text: "ä¼šæœ‰ç‚¹çŠ¹è±«ï¼Œæ¯•ç«Ÿå·²ç»æœ‰è‡ªå·±çš„å®‰æ’äº†", scores: { passion: 0, security: 1, freedom: 3, devotion: 0 } }
    ]
  },
  {
    q: "å’Œæ‹äººåµæ¶åï¼Œä½ é€šå¸¸ä¼šæ€ä¹ˆåšï¼Ÿ",
    options: [
      { text: "ä¸»åŠ¨é“æ­‰ï¼Œä¸æƒ³è®©å†·æˆ˜æŒç»­å“ªæ€•ä¸€ç§’", scores: { passion: 2, security: 1, devotion: 3, freedom: 0 } },
      { text: "å…ˆå†·é™ä¸€ä¸‹ï¼Œæƒ³æ¸…æ¥šå†å¥½å¥½æ²Ÿé€š", scores: { passion: 0, security: 3, freedom: 2, devotion: 1 } },
      { text: "å†™ä¸€æ®µé•¿é•¿çš„æ–‡å­—è¡¨è¾¾è‡ªå·±çš„æ„Ÿå—", scores: { passion: 2, security: 1, freedom: 1, devotion: 2 } },
      { text: "ç­‰å¯¹æ–¹æ¥æ‰¾è‡ªå·±ï¼Œè§‰å¾—è°å…ˆä½å¤´è°å°±è¾“äº†", scores: { passion: 1, security: 0, freedom: 3, devotion: 0 } }
    ]
  },
  {
    q: "ä½ ç†æƒ³ä¸­çš„çº¦ä¼šæ–¹å¼æ˜¯ï¼Ÿ",
    options: [
      { text: "ç²¾å¿ƒç­–åˆ’çš„çƒ›å…‰æ™šé¤æˆ–æµªæ¼«æƒŠå–œ", scores: { passion: 3, security: 0, devotion: 2, freedom: 0 } },
      { text: "åœ¨å®¶ä¸€èµ·åšé¥­ã€çœ‹ç”µå½±ï¼Œå®‰å®‰é™é™å¾…ç€", scores: { passion: 0, security: 3, devotion: 2, freedom: 1 } },
      { text: "ä¸€èµ·å»æ²¡å»è¿‡çš„åœ°æ–¹æ¢é™©ã€æ—…è¡Œ", scores: { passion: 2, security: 0, freedom: 3, devotion: 1 } },
      { text: "å„è‡ªåšå–œæ¬¢çš„äº‹ï¼Œå¶å°”æŠ¬å¤´ç›¸è§†ä¸€ç¬‘", scores: { passion: 0, security: 2, freedom: 3, devotion: 0 } }
    ]
  },
  {
    q: "å‘ç°æ‹äººå’Œå¼‚æ€§æœ‹å‹å•ç‹¬åƒé¥­ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
    options: [
      { text: "å†…å¿ƒç¿»æ¶Œï¼Œä¼šç›´æ¥é—®æ¸…æ¥šæ€ä¹ˆå›äº‹", scores: { passion: 3, security: 0, devotion: 2, freedom: 0 } },
      { text: "è™½ç„¶åœ¨æ„ï¼Œä½†ä¼šå…ˆè§‚å¯Ÿå†å†³å®šè¦ä¸è¦é—®", scores: { passion: 1, security: 2, freedom: 1, devotion: 1 } },
      { text: "å®Œå…¨ä¸ä»‹æ„ï¼Œç›¸ä¿¡å¯¹æ–¹ä¹Ÿç›¸ä¿¡è¿™æ®µå…³ç³»", scores: { passion: 0, security: 2, freedom: 3, devotion: 1 } },
      { text: "æœ‰ç‚¹ä¸å®‰ï¼Œå¸Œæœ›å¯¹æ–¹èƒ½ä¸»åŠ¨è·Ÿè‡ªå·±è¯´", scores: { passion: 1, security: 1, devotion: 3, freedom: 0 } }
    ]
  },
  {
    q: "å¦‚æœå¯ä»¥é€æ‹äººä¸€ä»½ç‰¹åˆ«çš„ç¤¼ç‰©ï¼Œä½ ä¼šé€‰ï¼Ÿ",
    options: [
      { text: "äº²æ‰‹å†™çš„ä¿¡æˆ–åšçš„æ‰‹å·¥ï¼Œç‹¬ä¸€æ— äºŒ", scores: { passion: 2, security: 0, devotion: 3, freedom: 1 } },
      { text: "å¯¹æ–¹æè¿‡æƒ³è¦ä½†èˆä¸å¾—ä¹°çš„ä¸œè¥¿", scores: { passion: 1, security: 2, devotion: 2, freedom: 0 } },
      { text: "ä¸¤ä¸ªäººçš„æ—…è¡Œï¼Œå»åˆ›é€ æ–°çš„å›å¿†", scores: { passion: 2, security: 0, freedom: 3, devotion: 1 } },
      { text: "ä¸€ä¸ªæµªæ¼«çš„æƒŠå–œæ´¾å¯¹ï¼Œè®©å¯¹æ–¹æ„ŸåŠ¨åˆ°å“­", scores: { passion: 3, security: 0, devotion: 2, freedom: 0 } }
    ]
  },
  {
    q: "æ‹äººè¯´ã€Œæˆ‘è§‰å¾—æˆ‘ä»¬éœ€è¦ä¸€äº›å„è‡ªçš„ç©ºé—´ã€ï¼Œä½ ä¼šï¼Ÿ",
    options: [
      { text: "å¿ƒé‡Œæœ‰ç‚¹æ…Œï¼Œæ‹…å¿ƒæ˜¯ä¸æ˜¯æ„Ÿæƒ…å‡ºäº†é—®é¢˜", scores: { passion: 2, security: 0, devotion: 3, freedom: 0 } },
      { text: "ç†è§£å¹¶å°Šé‡ï¼Œè§‰å¾—è¿™æ˜¯å¥åº·å…³ç³»çš„ä¸€éƒ¨åˆ†", scores: { passion: 0, security: 2, freedom: 3, devotion: 0 } },
      { text: "åŒæ„ï¼Œä½†å¸Œæœ›èƒ½çº¦å®šå¥½è”ç»œçš„é¢‘ç‡", scores: { passion: 0, security: 3, devotion: 1, freedom: 1 } },
      { text: "å…¶å®æ¾äº†ä¸€å£æ°”ï¼Œè‡ªå·±ä¹Ÿéœ€è¦ç©ºé—´", scores: { passion: 0, security: 1, freedom: 3, devotion: 0 } }
    ]
  },
  {
    q: "ä½ è§‰å¾—æ‹çˆ±ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ",
    options: [
      { text: "å¿ƒåŠ¨çš„æ„Ÿè§‰ï¼Œé‚£ç§æ€¦ç„¶å¿ƒè·³æ°¸è¿œä¸èƒ½æ¶ˆå¤±", scores: { passion: 3, security: 0, devotion: 1, freedom: 1 } },
      { text: "ç¨³å®šå’Œå®‰å…¨æ„Ÿï¼ŒçŸ¥é“å¯¹æ–¹ä¸€ç›´åœ¨", scores: { passion: 0, security: 3, devotion: 2, freedom: 0 } },
      { text: "å½¼æ­¤æˆé•¿ï¼Œä¸€èµ·å˜æˆæ›´å¥½çš„äºº", scores: { passion: 1, security: 1, freedom: 2, devotion: 2 } },
      { text: "è‡ªç”±å’Œä¿¡ä»»ï¼Œä¸éœ€è¦æ—¶åˆ»é»åœ¨ä¸€èµ·", scores: { passion: 0, security: 1, freedom: 3, devotion: 0 } }
    ]
  },
  {
    q: "æ‹äººå¿ƒæƒ…ä¸å¥½ä½†ä¸æƒ³è¯´åŸå› ï¼Œä½ ä¼šï¼Ÿ",
    options: [
      { text: "æƒ³å°½åŠæ³•é€—å¯¹æ–¹å¼€å¿ƒï¼Œè®²ç¬‘è¯åšé¬¼è„¸", scores: { passion: 2, security: 0, devotion: 3, freedom: 0 } },
      { text: "é™é™é™ªåœ¨æ—è¾¹ï¼Œä¸é—®ä½†è®©å¯¹æ–¹çŸ¥é“ä½ åœ¨", scores: { passion: 0, security: 3, devotion: 2, freedom: 1 } },
      { text: "ç»™å¯¹æ–¹ç©ºé—´ï¼Œå‘Šè¯‰taæƒ³èŠçš„æ—¶å€™éšæ—¶æ¥æ‰¾ä½ ", scores: { passion: 0, security: 1, freedom: 3, devotion: 1 } },
      { text: "ä¼šæœ‰ç‚¹ç€æ€¥ï¼Œå¿ä¸ä½è¿½é—®åˆ°åº•æ€ä¹ˆäº†", scores: { passion: 3, security: 0, devotion: 2, freedom: 0 } }
    ]
  },
  {
    q: "æœ‹å‹è¯´ä½ åœ¨æ‹çˆ±ä¸­å˜äº†ä¸ªäººï¼Œä½ è§‰å¾—taè¯´çš„æ˜¯ï¼Ÿ",
    options: [
      { text: "å˜å¾—æ›´æ¸©æŸ”ã€æ›´æ„¿æ„ä»˜å‡ºäº†", scores: { passion: 1, security: 1, devotion: 3, freedom: 0 } },
      { text: "å˜å¾—æ›´æœ‰å®‰å…¨æ„Ÿã€æ›´å¹³å’Œäº†", scores: { passion: 0, security: 3, devotion: 1, freedom: 1 } },
      { text: "æ²¡ä»€ä¹ˆå˜åŒ–ï¼Œæ‹çˆ±ä¸åº”è¯¥æ”¹å˜è‡ªå·±", scores: { passion: 0, security: 1, freedom: 3, devotion: 0 } },
      { text: "å˜å¾—æ›´å‹‡æ•¢ã€æ›´æ•¢äºè¡¨è¾¾äº†", scores: { passion: 3, security: 0, devotion: 1, freedom: 1 } }
    ]
  },
  {
    q: "ä½ æ€ä¹ˆçœ‹å¾…æ‹äººç¿»çœ‹ä½ çš„æ‰‹æœºï¼Ÿ",
    options: [
      { text: "éšä¾¿çœ‹ï¼Œæˆ‘æ²¡ä»€ä¹ˆå¥½è—çš„", scores: { passion: 1, security: 2, devotion: 2, freedom: 0 } },
      { text: "ä¸å¤ªèˆ’æœï¼Œè§‰å¾—æ¯ä¸ªäººéƒ½éœ€è¦éšç§", scores: { passion: 0, security: 0, freedom: 3, devotion: 0 } },
      { text: "å¯ä»¥çœ‹ï¼Œä½†å¸Œæœ›æ˜¯åœ¨æˆ‘åŒæ„çš„æƒ…å†µä¸‹", scores: { passion: 0, security: 3, freedom: 1, devotion: 1 } },
      { text: "å¦‚æœtaæƒ³çœ‹è¯´æ˜taåœ¨æ„æˆ‘ï¼Œæœ‰ç‚¹å¼€å¿ƒ", scores: { passion: 2, security: 0, devotion: 2, freedom: 0 } }
    ]
  },
  {
    q: "å¦‚æœæ³¨å®šè¦ç»å†ä¸€æ®µå¼‚åœ°æ‹ï¼Œä½ ä¼šæ€ä¹ˆé¢å¯¹ï¼Ÿ",
    options: [
      { text: "æ¯å¤©æ‰“å¾ˆé•¿çš„ç”µè¯ï¼Œç”¨æ–‡å­—å¡«æ»¡è·ç¦»", scores: { passion: 2, security: 0, devotion: 3, freedom: 0 } },
      { text: "åˆ¶å®šå¥½è”ç»œè®¡åˆ’ï¼Œæœ‰è§„å¾‹åœ°ç»´ç³»æ„Ÿæƒ…", scores: { passion: 0, security: 3, devotion: 1, freedom: 1 } },
      { text: "äº«å—å„è‡ªçš„ç”Ÿæ´»ï¼Œè§é¢æ—¶åŠ å€çæƒœ", scores: { passion: 1, security: 1, freedom: 3, devotion: 1 } },
      { text: "å…¶å®å¾ˆå®³æ€•ï¼Œè·ç¦»å¯¹æˆ‘æ¥è¯´å¤ªéš¾äº†", scores: { passion: 3, security: 1, devotion: 2, freedom: 0 } }
    ]
  },
  {
    q: "æ‹çˆ±ä¸€å‘¨å¹´ï¼Œä½ å¸Œæœ›æ€ä¹ˆåº¦è¿‡ï¼Ÿ",
    options: [
      { text: "ç­–åˆ’ä¸€ä¸ªè¶…çº§æµªæ¼«çš„æƒŠå–œï¼Œè®©è¿™å¤©ç»ˆç”Ÿéš¾å¿˜", scores: { passion: 3, security: 0, devotion: 2, freedom: 0 } },
      { text: "å»ä¸¤ä¸ªäººç¬¬ä¸€æ¬¡çº¦ä¼šçš„åœ°æ–¹ï¼Œé‡æ¸©æ—§æ—¶å…‰", scores: { passion: 1, security: 3, devotion: 2, freedom: 0 } },
      { text: "æ¥ä¸€åœºè¯´èµ°å°±èµ°çš„æ—…è¡Œ", scores: { passion: 2, security: 0, freedom: 3, devotion: 1 } },
      { text: "åšä¸€é¡¿å¥½åƒçš„ï¼Œåœ¨å®¶é‡Œå®‰é™åœ°åº†ç¥", scores: { passion: 0, security: 2, devotion: 2, freedom: 1 } }
    ]
  }
];

// ===== äººæ ¼ç±»å‹ =====
const types = {
  "passion-devotion": {
    icon: "ğŸ”¥",
    name: "ç‚½çƒ­å®ˆæŠ¤è€…",
    en: "The Passionate Guardian",
    desc: "ä½ åœ¨çˆ±æƒ…ä¸­ç‡ƒçƒ§ç€æœ€çƒ­çƒˆçš„ç«ç„°ã€‚å½“ä½ çˆ±ä¸Šä¸€ä¸ªäººï¼Œä½ ä¼šå…¨èº«å¿ƒåœ°æŠ•å…¥ï¼Œç”¨å°½æ‰€æœ‰çš„æ¸©æŸ”å’Œçƒ­æƒ…ã€‚ä½ ç›¸ä¿¡çˆ±å°±è¦å¤§å£°è¯´å‡ºæ¥ï¼Œç›¸ä¿¡æ¯ä¸€å¤©éƒ½åº”è¯¥åƒåˆæ‹ä¸€æ ·å¿ƒåŠ¨ã€‚ä½ æ˜¯é‚£ç§ä¼šä¸ºäº†çˆ±äººå­¦åšä¸€é“èœã€å†™ä¸€å°é•¿ä¿¡ã€ç­–åˆ’ä¸€ä¸ªæƒŠå–œçš„äººã€‚",
    tags: ["çƒ­çƒˆ", "å…¨å¿ƒæŠ•å…¥", "æµªæ¼«è‡³ä¸Š", "æ„Ÿæ€§"],
    best: "æ¸©æš–é™ªä¼´è€…",
    bestDesc: "ä½ éœ€è¦ä¸€ä¸ªèƒ½æ¥ä½ä½ æ‰€æœ‰çƒ­æƒ…çš„äººã€‚æ¸©æš–é™ªä¼´è€…ä¼šç»™ä½ ç¨³å®šçš„å›åº”å’Œå®‰å…¨æ„Ÿï¼Œè®©ä½ çš„çƒ­çƒˆæœ‰å¤„å®‰æ”¾ï¼Œä¸å†å®³æ€•ä»˜å‡ºå¤ªå¤šã€‚"
  },
  "passion-freedom": {
    icon: "ğŸ¦‹",
    name: "æµªæ¼«å†’é™©å®¶",
    en: "The Romantic Adventurer",
    desc: "ä½ æ˜¯çˆ±æƒ…é‡Œçš„ä¸€é˜µé£ï¼Œè‡ªç”±ã€çƒ­çƒˆã€å……æ»¡æƒŠå–œã€‚ä½ æ¸´æœ›é‚£ç§ç”µå…‰ç«çŸ³çš„å¿ƒåŠ¨æ„Ÿï¼ŒåŒæ—¶åˆçæƒœè‡ªæˆ‘çš„ç©ºé—´å’Œç‹¬ç«‹ã€‚å¯¹ä½ æ¥è¯´ï¼Œæœ€å¥½çš„æ‹çˆ±æ˜¯ä¸¤ä¸ªå‘å…‰çš„äººç›¸äº’å¸å¼•ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªäººå˜æˆä¸€ä¸ªäººã€‚ä½ çš„çˆ±æƒ…é‡Œæ°¸è¿œæœ‰æ–°é²œæ„Ÿã€‚",
    tags: ["è‡ªç”±çµé­‚", "å……æ»¡æƒŠå–œ", "ç‹¬ç«‹", "ä¸è¢«å®šä¹‰"],
    best: "ç‚½çƒ­å®ˆæŠ¤è€…",
    bestDesc: "ä½ éœ€è¦ä¸€ä¸ªåŒæ ·çƒ­çƒˆä½†æ›´æ„¿æ„ä¸ºä½ åœç•™çš„äººã€‚ç‚½çƒ­å®ˆæŠ¤è€…çš„æ·±æƒ…èƒ½è®©ä½ æ„Ÿå—åˆ°è¢«çè§†ï¼Œè€Œä¸æ˜¯è¢«æŸç¼šã€‚"
  },
  "security-devotion": {
    icon: "ğŸŒ¿",
    name: "æ¸©æš–é™ªä¼´è€…",
    en: "The Warm Companion",
    desc: "ä½ æ˜¯çˆ±æƒ…ä¸­æœ€æ¸©æš–çš„å­˜åœ¨ã€‚ä½ ä¸éœ€è¦è½°è½°çƒˆçƒˆçš„æµªæ¼«ï¼Œè€Œæ˜¯åœ¨ä¹æ¯ä¸€ä¸ªå¹³å‡¡æ—¥å­é‡Œçš„ç›¸ä¼´ã€‚ä½ è®°å¾—æ‹äººçš„æ¯ä¸€ä¸ªå°ä¹ æƒ¯ï¼Œä½ ç”¨æ¶¦ç‰©ç»†æ— å£°çš„æ–¹å¼è¡¨è¾¾çˆ±æ„ã€‚åœ¨ä½ çœ¼ä¸­ï¼ŒçœŸæ­£çš„çˆ±æƒ…ä¸æ˜¯çƒŸèŠ±èˆ¬çŸ­æš‚ç»šçƒ‚ï¼Œè€Œæ˜¯ç»†æ°´é•¿æµçš„é™ªä¼´ã€‚",
    tags: ["æ¸©æš–", "ç»†è…»", "é•¿æƒ…", "å®‰å…¨æ„Ÿ"],
    best: "ç‚½çƒ­å®ˆæŠ¤è€…",
    bestDesc: "ç‚½çƒ­å®ˆæŠ¤è€…çš„çƒ­æƒ…èƒ½ç‚¹ç‡ƒä½ å¹³é™ç”Ÿæ´»ä¸­çš„æµªæ¼«ç«èŠ±ï¼Œè€Œä½ çš„ç¨³å®šå’ŒåŒ…å®¹æ°å¥½æ˜¯taæœ€éœ€è¦çš„æ¸¯æ¹¾ã€‚"
  },
  "security-freedom": {
    icon: "ğŸŒŠ",
    name: "ç†æ€§å…±é¸£è€…",
    en: "The Rational Resonator",
    desc: "ä½ æ˜¯æ‹çˆ±ä¸­æœ€æˆç†Ÿæ¸…é†’çš„ç±»å‹ã€‚ä½ ç›¸ä¿¡å¥½çš„çˆ±æƒ…éœ€è¦ä¸¤ä¸ªç‹¬ç«‹è€Œå®Œæ•´çš„äººï¼Œå½¼æ­¤ä¿¡ä»»ä½†ä¸è¿‡åº¦ä¾èµ–ã€‚ä½ ä¸ä¼šå› ä¸ºæ‹çˆ±è€Œå¤±å»è‡ªæˆ‘ï¼Œä¹Ÿå°Šé‡å¯¹æ–¹çš„ä¸ªäººç©ºé—´ã€‚ä½ çš„çˆ±å«è“„è€Œæ·±æ²‰ï¼Œä¸å¸¸è¯´ç”œè¨€èœœè¯­ï¼Œä½†æ¯å¥è¯éƒ½æ˜¯è®¤çœŸçš„ã€‚",
    tags: ["ç‹¬ç«‹", "æ¸…é†’", "ç†æ€§", "æ·±æ²‰"],
    best: "æµªæ¼«å†’é™©å®¶",
    bestDesc: "æµªæ¼«å†’é™©å®¶èƒ½ç»™ä½ çš„ç”Ÿæ´»å¸¦æ¥æ–°é²œæ„Ÿå’Œå¿ƒåŠ¨çš„ç¬é—´ï¼Œè€Œä½ çš„ç†æ€§å’Œç¨³é‡æ°å¥½èƒ½ä¸ºtaçš„å†’é™©æä¾›ä¸€ä¸ªå®‰å¿ƒçš„æ¸¯æ¹¾ã€‚"
  },
  "devotion-freedom": {
    icon: "ğŸŒ™",
    name: "æ¸©æŸ”ç†æƒ³å®¶",
    en: "The Gentle Idealist",
    desc: "ä½ å¯¹çˆ±æƒ…æœ‰ç€æœ€ç¾çš„æƒ³è±¡ã€‚ä½ æ¸´æœ›æ·±åˆ»çš„çµé­‚è¿æ¥ï¼Œä½†åŒæ—¶ä¹Ÿçæƒœä¸ªäººçš„å†…åœ¨ä¸–ç•Œã€‚ä½ æ˜¯é‚£ç§ä¼šé»˜é»˜ä¸ºæ‹äººåšå¾ˆå¤šäº‹ã€ä½†ä¹Ÿéœ€è¦ç‹¬å¤„æ—¶é—´æ¥æ¢å¤èƒ½é‡çš„äººã€‚ä½ çš„çˆ±åƒæœˆå…‰ï¼Œä¸è€€çœ¼ä½†æŒä¹…è€Œæ¸©æŸ”ã€‚",
    tags: ["ç†æƒ³ä¸»ä¹‰", "æ¸©æŸ”", "å†…æ•›", "çµé­‚ä¼´ä¾£"],
    best: "æ¸©æš–é™ªä¼´è€…",
    bestDesc: "æ¸©æš–é™ªä¼´è€…çš„ç»†è…»å’Œè€å¿ƒèƒ½ç†è§£ä½ çš„å†…åœ¨ä¸–ç•Œï¼Œè€Œä½ çš„æ·±æƒ…å’Œç†æƒ³ä¸»ä¹‰æ°å¥½èƒ½è®©å¹³æ·¡çš„æ—¥å­å……æ»¡æ„ä¹‰ã€‚"
  },
  "passion-security": {
    icon: "ğŸŒ¸",
    name: "æ·±æƒ…çœ·æ‹è€…",
    en: "The Devoted Romantic",
    desc: "ä½ æŠŠå®‰å…¨æ„Ÿå’Œæµªæ¼«å®Œç¾èåˆåœ¨ä¸€èµ·ã€‚ä½ æ¸´æœ›ä¸€ä»½æ—¢æœ‰å¿ƒè·³åŠ é€Ÿåˆæœ‰å²æœˆé™å¥½çš„çˆ±æƒ…ã€‚ä½ ä¼šä¸ºæ‹äººåˆ›é€ æµªæ¼«ï¼Œä¹Ÿä¼šä¸ºæœªæ¥åšå¥½è§„åˆ’ã€‚å¯¹ä½ æ¥è¯´ï¼Œç†æƒ³çš„çˆ±æƒ…æ˜¯ï¼šæ—¢èƒ½åœ¨é›¨å¤©ä¸€èµ·æ·‹é›¨ï¼Œä¹Ÿèƒ½åœ¨æ™´å¤©ä¸€èµ·æ™’è¢«å­ã€‚",
    tags: ["æ·±æƒ…", "æµªæ¼«", "è¸å®", "å®‰å…¨æ„Ÿ"],
    best: "æ¸©æŸ”ç†æƒ³å®¶",
    bestDesc: "æ¸©æŸ”ç†æƒ³å®¶çš„æ·±åº¦å’Œçµæ€§èƒ½æ»¡è¶³ä½ å¯¹çµé­‚ä¼´ä¾£çš„æ¸´æœ›ï¼Œè€Œä½ çš„è¸å®å’Œæ·±æƒ…èƒ½ç»™taæœ€éœ€è¦çš„å®‰å…¨æ„Ÿå’Œå½’å±æ„Ÿã€‚"
  }
};

// ===== é€»è¾‘ =====
let currentQ = 0;
let scores = { passion: 0, security: 0, freedom: 0, devotion: 0 };

function startTest() {
  document.getElementById('startPage').classList.remove('active');
  document.getElementById('testPage').classList.add('active');
  currentQ = 0;
  scores = { passion: 0, security: 0, freedom: 0, devotion: 0 };
  showQuestion();
}

function showQuestion() {
  const q = questions[currentQ];
  document.getElementById('progressFill').style.width = ((currentQ) / questions.length * 100) + '%';
  document.getElementById('questionCounter').textContent = `ç¬¬ ${currentQ + 1} / ${questions.length} é¢˜`;
  document.getElementById('questionText').textContent = q.q;

  const container = document.getElementById('optionsContainer');
  container.innerHTML = '';
  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.textContent = opt.text;
    btn.onclick = () => selectOption(i);
    container.appendChild(btn);
  });
}

function selectOption(idx) {
  const opts = questions[currentQ].options[idx].scores;
  for (let key in opts) {
    scores[key] += opts[key];
  }

  // é€‰ä¸­åŠ¨ç”»
  const btns = document.querySelectorAll('.option-btn');
  btns[idx].classList.add('selected');
  btns.forEach(b => b.style.pointerEvents = 'none');

  setTimeout(() => {
    currentQ++;
    if (currentQ < questions.length) {
      document.getElementById('testPage').classList.remove('active');
      setTimeout(() => {
        document.getElementById('testPage').classList.add('active');
        showQuestion();
      }, 50);
    } else {
      showResult();
    }
  }, 400);
}

function getType() {
  // å–æœ€é«˜çš„ä¸¤ä¸ªç»´åº¦ç»„åˆ
  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const top2 = [sorted[0][0], sorted[1][0]].sort().join('-');

  // æ˜ å°„åˆ°å·²æœ‰ç±»å‹
  const typeMap = {
    'devotion-passion': 'passion-devotion',
    'freedom-passion': 'passion-freedom',
    'devotion-security': 'security-devotion',
    'freedom-security': 'security-freedom',
    'devotion-freedom': 'devotion-freedom',
    'passion-security': 'passion-security'
  };

  return types[top2] || types[typeMap[top2]] || types['passion-devotion'];
}

function showResult() {
  document.getElementById('testPage').classList.remove('active');
  document.getElementById('resultPage').classList.add('active');

  const type = getType();
  document.getElementById('resultIcon').textContent = type.icon;
  document.getElementById('resultName').textContent = type.name;
  document.getElementById('resultEn').textContent = type.en;
  document.getElementById('resultDesc').textContent = type.desc;

  // Tags
  const tagsEl = document.getElementById('resultTags');
  tagsEl.innerHTML = type.tags.map(t => `<span class="result-tag">#${t}</span>`).join('');

  // Dimensions
  const maxScore = Math.max(...Object.values(scores));
  const dimEl = document.getElementById('resultDimensions');
  const dimLabels = { passion: 'çƒ­æƒ…æŒ‡æ•°', security: 'å®‰å…¨æ„Ÿ', freedom: 'è‡ªç”±åº¦', devotion: 'å¥‰çŒ®åº¦' };
  dimEl.innerHTML = Object.entries(scores).map(([key, val]) => `
    <div class="dimension">
      <div class="dimension-header">
        <span class="dimension-label">${dimLabels[key]}</span>
        <span class="dimension-value">${Math.round(val / maxScore * 100)}%</span>
      </div>
      <div class="dimension-bar">
        <div class="dimension-fill" style="width: 0%;" data-width="${val / maxScore * 100}%"></div>
      </div>
    </div>
  `).join('');

  // åŠ¨ç”»ï¼šç»´åº¦æ¡
  setTimeout(() => {
    document.querySelectorAll('.dimension-fill').forEach(el => {
      el.style.width = el.dataset.width;
    });
  }, 200);

  // åŒ¹é…
  document.getElementById('matchTitle').textContent = `ğŸ’• æœ€ä½³åŒ¹é…ï¼š${type.best}`;
  document.getElementById('matchDesc').textContent = type.bestDesc;
}

function retry() {
  document.getElementById('resultPage').classList.remove('active');
  document.getElementById('startPage').classList.add('active');
}

function shareResult() {
  // å°è¯•ä½¿ç”¨ Web Share API
  if (navigator.share) {
    navigator.share({
      title: 'æ‹çˆ±äººæ ¼æµ‹è¯•',
      text: `æˆ‘çš„æ‹çˆ±äººæ ¼æ˜¯ã€Œ${document.getElementById('resultName').textContent}ã€${document.getElementById('resultIcon').textContent}ï¼æ¥æµ‹æµ‹ä½ çš„æ‹çˆ±äººæ ¼å§ï½`,
      url: window.location.href
    }).catch(() => {});
  } else {
    // å¤åˆ¶é“¾æ¥
    const text = `æˆ‘çš„æ‹çˆ±äººæ ¼æ˜¯ã€Œ${document.getElementById('resultName').textContent}ã€${document.getElementById('resultIcon').textContent}ï¼æ¥æµ‹æµ‹ä½ çš„æ‹çˆ±äººæ ¼å§ï½\n${window.location.href}`;
    navigator.clipboard.writeText(text).then(() => {
      const btn = document.querySelector('.btn-share');
      btn.textContent = 'å·²å¤åˆ¶ âœ“';
      setTimeout(() => btn.textContent = 'åˆ†äº«ç»“æœ', 2000);
    }).catch(() => {
      alert('é•¿æŒ‰æˆªå›¾åˆ†äº«ç»™å¥½å‹å§ï½');
    });
  }
}
</script>

</body>
</html>
